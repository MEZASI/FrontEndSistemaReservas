<head>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
</head>

<div class="container">
	<div class="row">
		<div class="col">
			<div class="card " style="width: 28rem;">
				<div class="card-header custom-card">
					<h3 class="card-title">Registre un Usuario</h3>
				</div>
				<!-- /.card-header -->
				<!-- form start -->
				<form [formGroup]="registrar" (ngSubmit)="registrarUsuario()">
					<div class="card-body">
						<div class="form-group">
							<label>Correo</label>
							<input type="email" class="form-control"  placeholder="Ingrese el correo" formControlName="correoUsuario">
							<span class="text-danger ml-2" *ngIf="registrar.get('correoUsuario')!.hasError('required') && registrar.get('correoUsuario')!.touched">
								El correo <strong>es requerido</strong>
							</span>
						</div>
						<div class="form-group">
							<label>Nombre Completo</label>
							<input type="email" class="form-control" placeholder="Ingrese el nombre completo" formControlName="nombreUsuario">
							<span class="text-danger ml-2" *ngIf="registrar.get('nombreUsuario')!.hasError('required') && registrar.get('nombreUsuario')!.touched">
								El nombre <strong>es requerido</strong>
							</span>
						</div>
						<div class="form-group">
							<label>Usuario</label>
							<input type="email" class="form-control"  placeholder="Ingrese el usuario a asignar" formControlName="usuarioUsuario">
							<span class="text-danger ml-2" *ngIf="registrar.get('usuarioUsuario')!.hasError('required') && registrar.get('usuarioUsuario')!.touched">
								El usuario <strong>es requerido</strong>
							</span>
						</div>
						<div class="form-group">
							<label>Contraseña</label>
							<input type="password" class="form-control" placeholder="Digite la contraseña" formControlName="passwordUsuario">
							<span class="text-danger ml-2" *ngIf="registrar.get('passwordUsuario')!.hasError('required') && registrar.get('passwordUsuario')!.touched">
								La contraseña <strong>es requerida</strong>
							</span>
						</div>
						<div class="form-group">
							<label >Confirme Contraseña</label>
							<input type="password" class="form-control" placeholder="Digite la contraseña nuevamente" formControlName="confirmPassword">
							<span class="text-danger ml-2" *ngIf="registrar!.hasError('notSame')">
								Las contraseñas <strong>son distintas</strong>
							</span>
						</div>
						<div class="form-group">
							<label>Rol de Usuario</label>
							<select class="form-control select2" style="width: 100%;" formControlName="rolUsuario">
								<option>Admin</option>
								<option>Campo</option>
							</select>
						</div>
					</div>
					<!-- /.card-body -->

					<div class="card-footer">
						<button type="submit" class="btn btn-success" [disabled]="registrar.invalid" [ngStyle]="{'background-color': '#08C330'}">Registrar Usuario</button>
					</div>
				</form>
			</div>			
		</div>
		<div class="col">
			<div class="col-12">
				<div class="card">
					<div class="card-header custom-card">
						<h3 class="card-title">Usuarios activos</h3>

						<div class="card-tools">
							<!-- puede ir un typeahead aqui-->
							<div class="input-group input-group-sm" style="width: 150px;">
							</div>
						</div>
					</div>
					<!-- /.card-header -->
					<div class="card-body table-responsive p-0" >
						<app-loading *ngIf="loading"></app-loading>
						<table class="table table-hover">
							<thead>
								<tr>
									<th style="display: none;">id</th>
									<th>Usuario</th>
									<th>Nombre</th>
									<th>Rol</th>
								</tr>
							</thead>
							<tbody>
								<tr class="odd" *ngFor="let usuario of listaUsuarios">
									<td style="display:none;">{{usuario.id}}</td>
									<td>{{usuario.usuarioUsuario}}</td>
									<td>{{usuario.nombreUsuario}}</td>
									<td>{{usuario.rolUsuario}}</td>
									<td><span class="material-icons edit" type="button" (click)="editarUsuarioModal(usuario)" data-toggle="modal" data-target="#modalUsuario">edit</span>
									</td>
									<td><span class="material-icons delete" (click)="eliminarUsuario(usuario.id)">delete</span></td>
								</tr> 
							</tbody>
						</table>
					</div>
					<!-- /.card-body -->
				</div>
				<!-- /.card -->
			</div>
		</div>
		<!--<div class="col">
			
		</div>-->
	</div>	
</div>
<app-modal></app-modal>
